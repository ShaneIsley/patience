=== Phase 4.1: Error Handling Performance Testing ===
Platform: Darwin arm64
Date: Sat 26 Jul 2025 12:42:24 AEST

1. Invalid Configuration Error Handling
Testing: Malformed TOML configuration
Error type: invalid_config
Expected: Graceful error message
  Handled gracefully
  Duration: 14.95ms
  Status: Error handled successfully

Testing: Non-existent config file
Error type: nonexistent_config
Expected: Clear file not found error
  Handled gracefully
  Duration: 7.87ms
  Status: Error handled successfully

Testing: Negative attempt count
Error type: invalid_attempts
Expected: Validation error with guidance
  Handled gracefully
  Duration: 7.01ms
  Status: Error handled successfully

Testing: Invalid delay format
Error type: invalid_delay
Expected: Parse error with examples
  Handled gracefully
  Duration: 6.39ms
  Status: Error handled successfully

2. Pattern Matching Error Handling
Testing: Invalid regex pattern
Error type: malformed_pattern
Expected: Regex compilation error
  Handled gracefully
  Duration: 5.94ms
  Status: Error handled successfully

3. Command Execution Error Handling
Testing: Non-existent command
Error type: command_not_found
Expected: Command not found error
  Handled gracefully
  Duration: 5.73ms
  Status: Error handled successfully

Testing: Permission denied
Error type: permission_denied
Expected: Permission error handling
  Handled gracefully
  Duration: 11.64ms
  Status: Error handled successfully

4. Signal Handling Performance
Testing: SIGINT during execution
Error type: signal_interrupt
Expected: Graceful shutdown
[retry] Attempt 1/10 starting...
‚úÖ [retry] Command succeeded after 1 attempt.

Run Statistics:
  Total Attempts: 1
  Successful Runs: 1
  Failed Runs: 0
  Total Duration: 0.1s
  Final Reason: exit code 0
  Duration: 62.28ms
  Status: Error handled successfully

5. Complex Error Scenario Testing
Testing cascading error conditions:
  Testing error stage 1:
[ERROR] Stage 1: Configuration validation failed
[ERROR] Stage 1: Configuration validation failed
    Expected failure handled
    Duration: 287.70ms
  Testing error stage 2:
[ERROR] Stage 2: Network connection timeout
[ERROR] Stage 2: Network connection timeout
    Expected failure handled
    Duration: 43.54ms
  Testing error stage 3:
[ERROR] Stage 3: Authentication failed
[ERROR] Stage 3: Authentication failed
    Expected failure handled
    Duration: 40.98ms
  Testing error stage 4:
[SUCCESS] Stage 4: Operation completed successfully
    Duration: 12.70ms

6. Memory Pressure Error Handling
Testing error handling under memory constraints:
[MEM] Simulating memory pressure...
[MEM] Allocation attempt 1
[MEM] Allocation attempt 2
[MEM] Allocation attempt 3
[MEM] Out of memory error
[MEM] Simulating memory pressure...
[MEM] Allocation attempt 1
[MEM] Allocation attempt 2
[MEM] Allocation attempt 3
[MEM] Out of memory error
[MEM] Simulating memory pressure...
[MEM] Allocation attempt 1
[MEM] Allocation attempt 2
[MEM] Allocation attempt 3
[MEM] Out of memory error
  Memory error handled gracefully
  Duration: 429.94ms
  Memory pressure test completed

7. Timeout Error Handling
Testing timeout scenarios:
[TIMEOUT] Starting operation (will timeout in 1s)
  Timeout handled gracefully
  Duration: 1255.51ms
  Timeout test completed

8. Pattern Matching Edge Cases
Testing edge cases in pattern matching:
  Testing pattern 1: ^exact_match$
exact_match
    Duration: 273.85ms
  Testing pattern 2: (?i)case.*insensitive
Case Insensitive Test
    Duration: 261.34ms
  Testing pattern 3: multi.*line.*pattern
multi
line
pattern test
    Duration: 234.19ms
  Testing pattern 4: [0-9]{3}-[0-9]{3}-[0-9]{4}
Phone: 123-456-7890
    Duration: 326.59ms
  Testing pattern 5: unicode.*test.*üöÄ
unicode test üöÄ
    Duration: 255.45ms

9. Concurrent Error Handling
Testing error handling with concurrent executions:
[retry] Attempt 1/2 starting...
[retry] Attempt 1/2 starting...
[retry] Attempt 1/2 starting...
[CONCURRENT-1] Starting...
[CONCURRENT-1] Completed successfully
‚úÖ [retry] Command succeeded after 1 attempt.

Run Statistics:
  Total Attempts: 1
  Successful Runs: 1
  Failed Runs: 0
  Total Duration: 0.4s
  Final Reason: success pattern matched
[CONCURRENT-2] Starting...
[CONCURRENT-2] Simulated error
[retry] Attempt 1/2 failed (exit code 1). Retrying in 0.0s.
[retry] Attempt 2/2 starting...
[CONCURRENT-2] Starting...
[CONCURRENT-3] Starting...
[CONCURRENT-2] Simulated error
[retry] Attempt 2/2 failed (exit code 1).
‚ùå [retry] Command failed after 2 attempts.

Run Statistics:
  Total Attempts: 2
  Successful Runs: 0
  Failed Runs: 2
  Total Duration: 0.8s
  Final Reason: max retries reached (exit code 1)
  Concurrent error 2 handled
[CONCURRENT-3] Completed successfully
‚úÖ [retry] Command succeeded after 1 attempt.

Run Statistics:
  Total Attempts: 1
  Successful Runs: 1
  Failed Runs: 0
  Total Duration: 0.8s
  Final Reason: success pattern matched
  Total concurrent error handling time: 1s

10. Resource Cleanup on Error Conditions
Testing resource cleanup during error conditions:
Creating temporary resource: /tmp/patience_cleanup_test_69360
[CLEANUP] Resource created, simulating error...
Creating temporary resource: /tmp/patience_cleanup_test_69361
[CLEANUP] Resource created, simulating error...
  Cleanup test completed
  Duration: 306.41ms
  Resource cleanup test completed

=== Phase 4.1 Error Handling Performance Testing Complete ===
All error conditions tested successfully!
Results demonstrate robust error handling with minimal performance impact.
